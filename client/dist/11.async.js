(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"3viS":function(e,t,a){"use strict";var l=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("wsJZ");var s=l(a("Bq7H"));a("nUt0");var d=l(a("5t0v")),r=l(a("zAuD"));a("iQPO");var i=l(a("EzCe"));a("Es4D");var n=l(a("+M86"));a("Lc1E");var o=l(a("tERs")),m=l(a("FQm9")),u=a("ezbJ"),f=a("X7BR"),c=o.default.Item,p=n.default.TextArea,h=i.default.Option;class k extends m.default.Component{constructor(e){super(e),this.showModalHandler=(e=>{e&&e.stopPropagation(),this.setState({visible:!0})}),this.okHandler=(()=>{var e=this.props,t=e.onOk,a=e.form,l=e.data;a.validateFields((e,s)=>{e||(l?t(l.id,s):t(s),a.resetFields(),this.hideModalHandler())})}),this.hideModalHandler=(()=>{this.setState({visible:!1})}),this.state={visible:!1}}render(){var e=this.state.visible,t=this.props,a=t.children,l=t.form,k=t.data,g=void 0===k?{}:k,v=g.name,E=void 0===v?"":v,M=g.keywords,b=void 0===M?"":M,w=g.match_method,y=void 0===w?"":w,x=g.ignore_org,H=void 0===x?"":x,I=g.ignore_repo,T=void 0===I?"":I,_=g.mail,C=void 0===_?"":_,F=g.pages,S=void 0===F?5:F,V=g.interval,z=void 0===V?60:V,O=l.getFieldDecorator,J={labelCol:{span:6},wrapperCol:{span:14}};return m.default.createElement("span",null,m.default.createElement("span",{onClick:this.showModalHandler},a),m.default.createElement(s.default,{title:g.name?(0,u.formatMessage)({id:"task.modal.edit-task"}):(0,u.formatMessage)({id:"task.modal.create-task"}),visible:e,onOk:this.okHandler,onCancel:this.hideModalHandler,style:{top:20}},m.default.createElement(o.default,{layout:"horizontal"},m.default.createElement(c,(0,r.default)({},J,{label:(0,u.formatMessage)({id:"task.modal.field.task-name"})}),O("name",{initialValue:E,rules:[{required:!0,message:(0,u.formatMessage)({id:"task.modal.field.task-name.required"})}]})(m.default.createElement(n.default,null))),m.default.createElement(c,(0,r.default)({},J,{label:(0,u.formatMessage)({id:"task.modal.field.keyword"}),help:(0,u.formatMessage)({id:"task.modal.field.keyword.hint"})}),O("keywords",{initialValue:b,rules:[{required:!0}]})(m.default.createElement(p,{rows:4}))),m.default.createElement(c,(0,r.default)({},J,{label:(0,u.formatMessage)({id:"task.modal.field.match-method"})}),O("match_method",{initialValue:y,rules:[{required:!0}]})(m.default.createElement(i.default,null,f.matchMethod.map((e,t)=>m.default.createElement(h,{key:"matchMethod".concat(e),value:t},(0,u.formatMessage)({id:"task.modal.field.match-method.".concat(t)})))))),m.default.createElement(c,(0,r.default)({},J,{label:(0,u.formatMessage)({id:"task.modal.field.ignore-username"}),help:(0,u.formatMessage)({id:"task.modal.field.ignore-username.hint"})}),O("ignore_org",{initialValue:H})(m.default.createElement(p,{rows:3}))),m.default.createElement(c,(0,r.default)({},J,{label:(0,u.formatMessage)({id:"task.modal.field.ignore-repo"}),help:(0,u.formatMessage)({id:"task.modal.field.ignore-repo.hint"})}),O("ignore_repo",{initialValue:T})(m.default.createElement(p,{rows:3}))),m.default.createElement(c,(0,r.default)({},J,{label:(0,u.formatMessage)({id:"task.modal.field.email"}),help:(0,u.formatMessage)({id:"task.modal.field.email.hint"})}),O("mail",{initialValue:C})(m.default.createElement(n.default,null))),m.default.createElement(c,(0,r.default)({},J,{label:(0,u.formatMessage)({id:"task.modal.field.crawl-pages"}),help:(0,u.formatMessage)({id:"task.modal.field.crawl-pages.hint"})}),O("pages",{initialValue:S})(m.default.createElement(d.default,{min:0}))),m.default.createElement(c,(0,r.default)({},J,{label:(0,u.formatMessage)({id:"task.modal.field.crawl-interval"}),help:(0,u.formatMessage)({id:"task.modal.field.crawl-interval.hint"})}),O("interval",{initialValue:z})(m.default.createElement(d.default,{min:0}))))))}}var g=o.default.create()(k);t.default=g},tZ35:function(e,t,a){"use strict";var l=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("SLIc");var s=l(a("J2W+"));a("NFdS");var d=l(a("BrpB"));a("MjJA");var r=l(a("3oFS"));a("g6kn");var i=l(a("VIEj"));a("bch9");var n=l(a("RXZz"));a("d5TY");var o=l(a("j6C+"));a("Ttm4");var m=l(a("uCE4"));a("Lc1E");var u,f,c,p=l(a("tERs")),h=l(a("FQm9")),k=a("LneV"),g=l(a("QHXG")),v=a("ezbJ"),E=a("X7BR"),M=l(a("3viS")),b=p.default.Item,w=(u=(0,k.connect)(e=>{var t=e.task;return{task:t}}),u((c=class extends h.default.Component{constructor(e){super(e),this.changePage=(e=>{var t=this.props.dispatch;t({type:"task/fetchTasks",payload:{page:e,pageSize:10}})}),this.createTaskHandler=(e=>{var t=this.props.dispatch;t({type:"task/createTasks",payload:e})}),this.editTaskHandler=((e,t)=>{var a=this.props.dispatch;a({type:"task/editTask",id:e,payload:t})}),this.removeTaskHandler=(e=>{var t=this.props.dispatch;t({type:"task/removeTask",id:e})}),this.columns=[{title:"id",dataIndex:"id"},{title:(0,v.formatMessage)({id:"task.table.columns.task-name"}),dataIndex:"name",render:(e,t)=>h.default.createElement(g.default,{to:"/list/?taskId=".concat(t.id)},e)},{title:(0,v.formatMessage)({id:"task.table.columns.keyword"}),dataIndex:"keywords"},{title:(0,v.formatMessage)({id:"task.modal.field.match-method"}),dataIndex:"match_method",render:e=>(0,v.formatMessage)({id:"task.modal.field.match-method.".concat(e)})},{title:(0,v.formatMessage)({id:"task.table.columns.crawl-pages"}),dataIndex:"pages"},{title:(0,v.formatMessage)({id:"task.table.columns.crawl-interval"}),dataIndex:"interval",render:e=>"".concat(e," ").concat((0,v.formatMessage)({id:"task.table.columns.minutes"}))},{title:(0,v.formatMessage)({id:"task.table.columns.status"}),dataIndex:"status",render:e=>{switch(E.taskStatus[e]){case"\u7b49\u5f85\u4e2d":return h.default.createElement(m.default,{status:"default",text:(0,v.formatMessage)({id:"task.status.waiting"})});case"\u8fd0\u884c\u4e2d":return h.default.createElement(m.default,{status:"processing",text:(0,v.formatMessage)({id:"task.status.running"})});default:return h.default.createElement(m.default,{status:"success",text:(0,v.formatMessage)({id:"task.status.finished"})})}}},{title:(0,v.formatMessage)({id:"task.table.columns.start-time"}),dataIndex:"start_time"},{title:(0,v.formatMessage)({id:"task.table.columns.finished-time"}),dataIndex:"finished_time"},{title:(0,v.formatMessage)({id:"task.table.columns.operation"}),key:"action",render:e=>h.default.createElement("span",null,1===e.status?h.default.createElement(o.default,{title:(0,v.formatMessage)({id:"task.operation.no-operations-hint"})},h.default.createElement("span",null,h.default.createElement(v.FormattedMessage,{id:"task.operation.no-operations"}))):h.default.createElement("div",null,h.default.createElement(M.default,{data:e,onOk:this.editTaskHandler},h.default.createElement("a",null,h.default.createElement(v.FormattedMessage,{id:"task.operation.edit"}))),h.default.createElement(n.default,{type:"vertical"}),h.default.createElement(i.default,{title:(0,v.formatMessage)({id:"task.operation.delete-hint"}),onConfirm:()=>this.removeTaskHandler(e.id)},h.default.createElement("a",null,h.default.createElement(v.FormattedMessage,{id:"task.operation.delete"})))))}]}componentWillMount(){var e=this.props.dispatch;e({type:"task/fetchTasks",payload:{page:1,pageSize:10}})}render(){var e=this.props.task;return h.default.createElement("div",null,h.default.createElement(s.default,{bordered:!1},h.default.createElement(p.default,null,h.default.createElement(b,null,h.default.createElement(M.default,{onOk:this.createTaskHandler},h.default.createElement(r.default,{type:"primary"},h.default.createElement(v.FormattedMessage,{id:"task.operation.create-task"}))))),h.default.createElement(d.default,{columns:this.columns,dataSource:e.tasks,rowKey:"id",pagination:{current:e.page,total:e.total,onChange:this.changePage}})))}},f=c))||f),y=w;t.default=y}}]);